<!DOCTYPE html>
<html lang="en"><!--html tag start-->
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IV Characteristics of a PN Junction Diode</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../css/adik.css" rel="stylesheet">

<!-- jQuery and jQuery UI -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Bootstrap Bundle JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>

<!-- MathJax for rendering mathematical expressions -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Math.js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.2.1/math.min.js"></script>

<!-- jQuery Knob for UI components -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-Knob/1.2.13/jquery.knob.min.js"></script>

<!-- CanvasJS for charting -->
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<!-- jQuery Flot Library -->
<script src="./ncjs/jquery.flot.min.js"></script>


<!-- MathJax for rendering mathematical expressions -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script language="javascript" type="text/javascript" src="./ncjs/jquery.flot.min.js"></script>
 
<script type="text/x-mathjax-config;executed=true">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
  });
</script>
  
<style>
        .form-control {
            margin-bottom: 10px;
        }
        .graph-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .graph-placeholder {
            height: 400px;
            width: 100%;
        }
        .results {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
    </style>
<style>
  .form-control {
      margin-bottom: 10px;
  }
  .graph-container {
      background-color: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
  }
  .graph-placeholder {
      height: 400px;
      width: 100%;
  }
  .results {
      background-color: #e9ecef;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
  }
</style>

</head>
<body onload="abrupt();"><!--body tag start-->


	
    <div class="container p-3 my-5 text-left border"><!--3rd Container under body tag start-->
      <div class="row"><!--First row under 3rd container start-->
        <div class="col-md-1"></div><!--First col under 3rd container start& end-->
        <div class="col-md-10"><!--2nd col under 3rd container start-->
            <p class="text-center bg-success"> <a class="nav-link" data-bs-toggle="tab"  id="instcontrol" style="background-color:#128BD9"  ><span class=" h3 text-dark"> Instructions </span></a>
              <div id="inst" style="display:block;height:200px;overflow-y:auto;text-align:justify">
					<ol>
					
			<!-- Instructions -->
			
			<div class="container">
        
        
        <div class="instructions">
    
    <ol>
        <li>Set the parameters for the simulation:
            <ul>
                <li>Enter the <b>Area (A)</b> of the diode in cm<sup>2</sup>.</li>
                <li>Set the <b>Effective Density of States in the Conduction Band (N<sub>c</sub>)</b> and <b>Valence Band (N<sub>v</sub>)</b> at 300K in cm<sup>-3</sup>.</li>
                <li>Specify the <b>Energy Band Gap (E<sub>g</sub>)</b> in eV.</li>
            </ul>
        </li>
        <li>Provide details for the minority carrier properties:
            <ul>
                <li>Enter the <b>Hole Mobility (μ<sub>p</sub>)</b> in cm<sup>2</sup>/V·s.</li>
                <li>Set the <b>Hole Lifetime (τ<sub>p</sub>)</b> in seconds.</li>
                <li>Specify the <b>Acceptor Concentration (N<sub>a</sub>)</b> in cm<sup>-3</sup>.</li>
                <li>Enter the <b>Electron Mobility (μ<sub>n</sub>)</b> in cm<sup>2</sup>/V·s.</li>
                <li>Set the <b>Electron Lifetime (τ<sub>n</sub>)</b> in seconds.</li>
                <li>Specify the <b>Donor Concentration (N<sub>d</sub>)</b> in cm<sup>-3</sup>.</li>
            </ul>
        </li>
        <li>Set the <b>Temperature (T)</b> in Kelvin.</li>
        <li>Provide the external circuit parameters:
            <ul>
                <li>Enter the <b>Applied Voltage (V<sub>max</sub>)</b> across the diode.</li>
                <li>Set the ideality factor <b>η</b>.</li>
                <li>Specify the <b>Series Resistance (R<sub>s</sub>)</b> in ohms.</li>
            </ul>
        </li>
        <li>After filling in all the required parameters, click the <b>Replot</b> button to generate the simulation results.</li>
        <li>Choose the material type for the simulation by selecting <b>Si</b>, <b>Ge</b>, or <b>GaAs</b>.</li>
        <li>The simulation results will be displayed in the following formats:
            <ul>
                <li>A plot of <b>log<sub>10</sub>(I)</b> vs. <b>V</b> (Voltage).</li>
                <li>A table displaying the calculated current values for various voltage inputs.</li>
                <li>A plot of the <b>I</b> (Current) vs. <b>V</b> (Voltage).</li>
            </ul>
        </li>
        <li>Review the simulation parameters displayed below the plots, which include calculated values such as <b>I<sub>S</sub></b>, <b>n<sub>i</sub></b>, <b>E<sub>g</sub></b>, <b>D<sub>p</sub></b>, <b>D<sub>n</sub></b>, <b>L<sub>p</sub></b>, <b>L<sub>n</sub></b>, etc.</li>
    </ol>
    <p>Use the plots and the parameter values to analyze the diode's IV characteristics under different conditions.</p>
</div>

    </div>
<!-- end instruction   -->
					<br><br>
					</ol>
	
					
					
		   </div>
            </p> 
          </div><!--2nd col under 3rd container end-->
		  
        <div class="col-md-1"></div><!--3rd col under 3rd container start& end-->
      </div><!--First row under 3rd container end-->
    </div><!--3rd Container under body tag end-->
	
   <!--simulation start -->
 <div class="container">
        
        
        <div class="steps">




</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="top">


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
  });
</script>

<script language="JavaScript"> 


var d1 = [];
var d2 = [];

var kb = 1.380658E-23;
var qe = 1.602176565E-19;
var ni = 0; //var declaration of ni

function bin_search() { 
  Il = IS*(Math.exp(qe*(V-Ih*RS)/(eta*kb*T)) - 1);
  I = 0.5*(Il + Ih);
  for (j=0; j<30; j++) {
     I_new = IS*(Math.exp(qe*(V-I*RS)/(eta*kb*T)) - 1);
     if (I_new > I) {Il = I;}
     if (I_new < I) {Ih = I;}
     I = 0.5*(Il + Ih);
	}
  return I;	
}

function plotn() { 
    n = 0;
    outtext = "";
    d1.length = 0; // Reset previous points
    d2.length = 0;

    A = parseFloat(data.A.value) / 1E4;  // Convert to m²
    T = parseFloat(data.Temp.value);
    
    Nc = parseFloat(data.Nc.value) * 1E6;  // Convert to m⁻³
    Nv = parseFloat(data.Nv.value) * 1E6;
    Eg = parseFloat(data.Eg.value);
        
    Mp = parseFloat(data.Mp.value) / 1E4;  // Convert to m²/V s
    taup = parseFloat(data.taup.value);
    vmax = parseFloat(data.vmax.value);
    Nd = parseFloat(data.Nd.value) * 1E6;
    Mn = parseFloat(data.Mn.value) / 1E4;
    taun = parseFloat(data.taun.value);
    Na = parseFloat(data.Na.value) * 1E6;
    eta = parseFloat(data.eta.value);
    RS = parseFloat(data.RS.value);
       
    Dp = Mp * kb * T / qe;
    Dn = Mn * kb * T / qe;
    Lp = Math.sqrt(Dp * taup);
    Ln = Math.sqrt(Dn * taun);
    ni = Math.sqrt(Nc * Nv * Math.pow(T / 300, 3)) * Math.exp(1.6022E-19 * (-Eg) / (2 * kb * T));
    IS = A * qe * Math.pow(ni, 2) * (Dp / (Lp * Nd) + Dn / (Ln * Na));

    for (k = -200; k < 0; k++) {
        V = k * vmax / 200;
        Ih = IS * (Math.exp(qe * (V) / (eta * kb * T)) - 1);
        I = bin_search();
        outtext += V.toPrecision(6) + "\t" + I.toPrecision(6) + "\n";
        d2[n] = [V, I];
        I = Math.log(Math.abs(I)) / Math.log(10);  // Logarithm
        d1[n] = [-V, I];
        n++;
    }

    for (k = 1; k < 201; k++) {
        V = k * vmax / 200;
        Ih = Math.min(IS * (Math.exp(qe * (V) / (eta * kb * T)) - 1), V / RS);
        I = bin_search();
        outtext += V.toPrecision(6) + "\t" + I.toPrecision(6) + "\n";
        d2[n] = [V, I];
        I = Math.log(Math.abs(I)) / Math.log(10);  // Logarithm
        d1[n] = [V, I];
        n++;
    }

    // Graph Plotting with Hover Tooltips
    var data1 = [{
        data: d1,
        color: "rgb(65, 105, 225)",
        shadowSize: 1,
        lines: { show: true, lineWidth: 1 },
        points: { show: true, radius: 2, fill: true, fillColor: "rgb(65, 105, 225)" }
    }];

    var data2 = [{
        data: d2,
        color: "rgb(31, 69, 252)",
        shadowSize: 1,
        lines: { show: true, lineWidth: 1 },
        points: { show: true, radius: 2, fill: true, fillColor: "rgb(31, 69, 252)" }
    }];

    // Enable tooltips on hover
    var plot = $.plot($("#placeholder"), data1, {
        grid: { borderWidth: 1, hoverable: true, backgroundColor: "#f8f9fa", markingsStyle: "dashed" },
        tooltip: { show: true, content: "V: %x, I: %y", shifts: { x: 10, y: 20 } }
    });

    var plot2 = $.plot($("#placeholder2"), data2, {
        grid: { borderWidth: 1, hoverable: true, backgroundColor: "#f8f9fa", markingsStyle: "dashed" },
        tooltip: { show: true, content: "V: %x, I: %y", shifts: { x: 10, y: 20 } }
    });

    // Tooltip event listener
    $("<div id='tooltip'></div>").css({
        position: "absolute",
        display: "none",
        border: "1px solid #ddd",
        padding: "5px",
        "background-color": "#fff",
        "border-radius": "5px",
        opacity: 0.8
    }).appendTo("body");

    $("#placeholder, #placeholder2").bind("plothover", function (event, pos, item) {
        if (item) {
            $("#tooltip").html("V: " + item.datapoint[0].toFixed(2) + "<br>I: " + item.datapoint[1].toExponential(2))
                .css({ top: item.pageY + 10, left: item.pageX + 10 })
                .fadeIn(200);
        } else {
            $("#tooltip").hide();
        }
    });

    // Display Results
    dataout.text.value = outtext;
    out = "<hr />";
    out += "<p>$I_S=$&nbsp;" + IS.toPrecision(3) + " [A]; ";
    out += "$n_i=$&nbsp;" + (ni / 1E6).toPrecision(3) + " [cm<sup>-3</sup>]; ";
    out += "$E_g=$&nbsp;" + Eg.toPrecision(3) + " [eV]; ";
    out += "$D_n=$&nbsp;" + (1E4 * Dn).toPrecision(3) + " [cm²/s]; ";
    out += "$D_p=$&nbsp;" + (1E4 * Dp).toPrecision(3) + " [cm²/s]; ";
    out += "$L_n=$&nbsp;" + (1E6 * Ln).toPrecision(3) + " [μm]; ";
    out += "$L_p=$&nbsp;" + (1E6 * Lp).toPrecision(3) + " [μm]; ";
    document.getElementById('results').innerHTML = out;
    MathJax.Hub.Queue(['Typeset', MathJax.Hub]);
};




</script>


<style>
p {margin-left:1cm;}
td.gray {background-color:cccccc}
</style>



<table><tr><td>

<table align="center">
<tr><td>$\text{log}_{10}(I)$&nbsp;[A]</td><td><div id="placeholder" style="width: 500px; height: 400px;"></td></tr>
<tr><td></td><td><p style="text-align:center">$V$ [V]</p></td></tr></table>

</td><td>


<form name="data">
  <style>
    table {
        border-collapse: collapse;
        width: 100%;
        margin: 10px auto;
        background: #f8f9fa;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        overflow: hidden;
        font-family: Arial, sans-serif;
    }

    td {
        padding: 5px;
        font-size: 12px;
    }

    .gray {
        background-color: #e9ecef;
        font-weight: bold;
        text-align: right;
        width: 20%;
        border-right: 2px solid #dee2e6;
    }

    input {
        width: 90%;
        padding: 8px;
        border: 1px solid #ced4da;
        border-radius: 5px;
        font-size: 14px;
        text-align: center;
    }

    input:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0px 0px 5px rgba(0, 123, 255, 0.5);
    }

    .separator {
        background-color: #adb5bd !important;
        height: 10px;
    }
</style>

<table>
    <tbody>
        <tr>
            <td class="gray">$A=$</td>
            <td><input value="1E-3" name="A" type="text"> cm<sup>2</sup></td>
        </tr>

        <tr><td class="gray">$N_c(300 K)=$</td><td><input value="2.78E19" name="Nc" type="text"> cm<sup>-3</sup></td></tr>
        <tr><td class="gray">$N_v(300 K)=$</td><td><input value="9.84E18" name="Nv" type="text"> cm<sup>-3</sup></td></tr>
        <tr><td class="gray">$E_g=$</td><td><input value="1.166-4.73E-4*T*T/(T+636)" name="Eg" type="text"> eV</td></tr>

        <tr><td colspan="2" class="separator"></td></tr>

        <tr><td class="gray">$\mu_p=$</td><td><input value="480" name="Mp" type="text"> cm<sup>2</sup>/Vs</td></tr>
        <tr><td class="gray">$\tau_p=$</td><td><input value="1E-5" name="taup" type="text"> s</td></tr>
        <tr><td class="gray">$N_a=$</td><td><input value="1E17" name="Na" type="text"> cm<sup>-3</sup></td></tr>

        <tr><td colspan="2" class="separator"></td></tr>

        <tr><td class="gray">$\mu_n=$</td><td><input value="1350" name="Mn" type="text"> cm<sup>2</sup>/Vs</td></tr>
        <tr><td class="gray">$\tau_n=$</td><td><input value="1E-5" name="taun" type="text"> s</td></tr>
        <tr><td class="gray">$N_d=$</td><td><input value="5E17" name="Nd" type="text"> cm<sup>-3</sup></td></tr>

        <tr><td colspan="2" class="separator"></td></tr>

        <tr><td class="gray">$T=$</td><td><input value="300" name="Temp" type="text"> K</td></tr>
        <tr><td class="gray">$V_{max}=$</td><td><input value="1" name="vmax" type="text"> V</td></tr>
        <tr><td class="gray">$\eta=$</td><td><input value="1" name="eta" type="text"></td></tr>
        <tr><td class="gray">$R_S=$</td><td><input value="1" name="RS" type="text"> &Omega;</td></tr>

        <tr><td colspan="2" class="separator"></td></tr>
    </tbody>
</table>

<!-- Add more input fields similarly -->
<button type="button" class="btn btn-primary" onclick="plotn()">Replot</button>
<button type="button" class="btn btn-secondary" onclick="data.Nc.value='2.78E19'; data.Nv.value='9.84E18';data.Eg.value='1.166-4.73E-4*T*T/(T+636)'; data.Mn.value='1350'; data.Mp.value='480';plotn();">Si</button>
<button type="button" class="btn btn-secondary" onclick="data.Nc.value='1.04E19'; data.Nv.value='6.0E18';data.Eg.value='0.7437-4.77E-4*T*T/(T+235)'; data.Mn.value='3900'; data.Mp.value='1900';plotn();">Ge</button>
<button type="button" class="btn btn-secondary" onclick="data.Nc.value='4.45E17'; data.Nv.value='7.72E18';data.Eg.value='1.519-5.41E-4*T*T/(T+204)'; data.Mn.value='8500'; data.Mp.value='400'; plotn();">GaAs</button>

</form>


</td></tr></tbody></table>

<div id="results"></div>

<table><tr><td>

<form name="dataout">
<table align="center"><tr><td>$V$ [V]&emsp;$I$ [A]</td></tr>
<tr><td>
<textarea name="text" rows="10" cols="50" wrap="off">
</textarea>
</td></tr>
</table>
</form>

</td><td>

<table align="center">
<tr><td>$I$&nbsp;[A]</td><td><div id="placeholder2" style="width: 400px; height: 300px;"></td></tr>
<tr><td></td><td><p style="text-align:center">$V$ [V]</p></td></tr></table>

</td></tr></table>

</td></tr></table>

<script>
plotn();
</script>


</td></tr></table>


</div>
</div>
   <!--simulation end -->
</body><!--body tag end-->
</html><!--html tag end-->